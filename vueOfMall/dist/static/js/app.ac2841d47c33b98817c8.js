webpackJsonp([2],{"+9Lz":function(t,e){},"/wAz":function(t,e){},"09yM":function(t,e){},"2FN2":function(t,e,n){"use strict";function i(t){n("x/e8")}var s={name:"NumberInput",props:{min:{type:Number,default:0},max:{type:Number,default:1},initNum:{type:Number,default:1}},data:function(){return{num:this.initNum||this.min}},methods:{minus:function(){this.num<=this.min||(this.num=Number(this.num)-1)},add:function(){this.num>=this.max||(this.num=Number(this.num)+1)}},watch:{num:function(t,e){this.$emit("input",Number(t)),this.$emit("changeHandle")},initNum:function(t){""!==t&&(this.num=t)}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NumberInput"},[n("span",{class:["minus",{ban:t.num<=t.min}],on:{click:t.minus}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"number",min:t.min,max:t.max},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),n("span",{class:["add",{ban:t.num>=t.max}],on:{click:t.add}},[t._v("+")])])},o=[],r={render:a,staticRenderFns:o},c=r,u=n("C7Lr"),l=i,d=u(s,c,!1,l,"data-v-0dd4e5ae",null);e.a=d.exports},"4l7V":function(t,e){},"5KxV":function(t,e){},"6PEx":function(t,e){},"6UMe":function(t,e){},Cwdn:function(t,e){t.exports="data:image/png;base64,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"},"Du/2":function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"f",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"b",function(){return c});var i="SET_ADMIN_TOKEN",s="SET_ADMIN_NAME",a="ADMIN_LOGOUT",o="SET_CLIENT_TOKEN",r="SET_CLIENT_NAME",c="CLIENT_LOGOUT"},Duuk:function(t,e,n){"use strict";function i(t){n("HwNY")}var s=n("yt7g"),a={name:"ErrorPage",computed:{width:function(){return Object(s.b)().width},height:function(){return Object(s.b)().height}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ErrorPage",style:{width:t.width+"px",height:t.height+"px"}},[n("h3",[t._v("404")]),t._v(" "),n("p",[t._v("抱歉，您访问的页面跑丢了~")])])},r=[],c={render:o,staticRenderFns:r},u=c,l=n("C7Lr"),d=i,m=l(a,u,!1,d,"data-v-2b143cf0",null);e.a=m.exports},FOXn:function(t,e,n){"use strict";var i=n("rVsN"),s=n.n(i),a=n("2sCs"),o=n.n(a),r=n("IcnI"),c=n("Du/2"),u=n("RSUS");o.a.defaults.withCredentials=!0,o.a.defaults.timeout=6e5,o.a.defaults.baseURL="http://47.113.114.235:8084",o.a.interceptors.request.use(function(t){return r.a.state.clientToken&&(t.headers.Authorization="Bearer "+r.a.state.clientToken),t},function(t){return s.a.reject(t)}),o.a.interceptors.response.use(function(t){return t},function(t){if(t.response)switch(t.response.status){case 401:r.a.commit(c.b),u.a.replace({path:"login",query:{redirect:u.a.currentRoute.fullPath}})}return s.a.reject(t.response.data)}),e.a=o.a},HwNY:function(t,e){},IcnI:function(t,e,n){"use strict";var i={},s={};n.d(s,"adminToken",function(){return u}),n.d(s,"clientToken",function(){return l});var a,o=n("b8UZ"),r=n("kV13"),c=n("Du/2"),u=function(t){return t.adminToken},l=function(t){return t.clientToken},d=n("yt7g"),m={adminToken:Object(d.c)("adminToken")?Object(d.c)("adminToken"):null,adminName:Object(d.c)("adminName")?Object(d.c)("adminName"):"",clientName:Object(d.c)("clientName")?Object(d.c)("clientName"):"",clientToken:Object(d.c)("clientToken")?Object(d.c)("clientToken"):null},p=m,h=n("a3Yh"),f=n.n(h),v=(a={},f()(a,c.d,function(t,e){t.adminToken=e,Object(d.e)("adminToken",e)}),f()(a,c.a,function(t){t.adminToken=null,t.adminName="",localStorage.removeItem("adminToken","adminName")}),f()(a,c.c,function(t,e){t.adminName=e,Object(d.e)("adminName",e)}),f()(a,c.f,function(t,e){t.clientToken=e,Object(d.e)("clientToken",e)}),f()(a,c.e,function(t,e){t.clientName=e,Object(d.e)("clientName",e)}),f()(a,c.b,function(t){t.clientToken=null,t.clientName="",localStorage.removeItem("clientToken","clientName")}),a),g=v;r.default.use(o.a);e.a=new o.a.Store({actions:i,getters:s,state:p,mutations:g})},KhYh:function(t,e){},LHqX:function(t,e,n){t.exports=n.p+"static/img/3.ec16480.png"},LOA1:function(t,e,n){t.exports=n.p+"static/img/1.bf308ec.png"},M93x:function(t,e,n){"use strict";function i(t){n("SyGe")}var s={name:"app"},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"router-fade",mode:"out-in"}},[n("router-view")],1)],1)},o=[],r={render:a,staticRenderFns:o},c=r,u=n("C7Lr"),l=i,d=u(s,c,!1,l,"data-v-bec505b2",null);e.a=d.exports},Mn6R:function(t,e,n){t.exports=n.p+"static/img/2.e16a8a4.jpg"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("briU"),s=(n.n(i),n("kV13")),a=n("M93x"),o=n("RSUS"),r=n("IcnI"),c=n("TcQY"),u=n.n(c),l=n("09yM"),d=(n.n(l),n("KhYh")),m=(n.n(d),n("/wAz")),p=(n.n(m),n("2sCs")),h=n.n(p),f=n("FOXn");h.a.defaults.withCredentials=!0,s.default.prototype.$baseURL=f.a.defaults.baseURL,s.default.use(u.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:o.a,store:r.a,template:"<App/>",components:{App:a.a}})},OyAk:function(t,e){},RA67:function(t,e){},RSUS:function(t,e,n){"use strict";function i(t){n("lt1D")}function s(t){var e=ot.a.post("/api/mall/user/login",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function a(t){var e=ot.a.post("/api/mall/user/signup",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function o(){var t=ot.a.get("/api/mall/good/getType");return new at.a(function(e,n){t.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(t){0===t.code?e(t.data):n(t.message)}).catch(function(t){n(t.toString())})})}function r(t){var e=ot.a.get("/api/mall/good/getGoodsByType?typeId="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function c(t){var e=ot.a.get("/api/mall/good/getGoodInfo?id="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function u(t){var e=ot.a.get("/api/mall/reply/getGoodMsg?id="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function l(t){var e=ot.a.post("/api/mall/reply/askGoodMsg",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function d(t){var e=ot.a.post("/api/mall/order/addOrder",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function m(t,e){var n=ot.a.get("/api/mall/order/getOrderByState?state="+t+"&token="+e);return new at.a(function(t,e){n.then(function(t){if(200===t.status)return t.data;e(t.status)}).then(function(n){0===n.code?t(n.data):e(n.message)}).catch(function(t){e(t.toString())})})}function p(t){var e=ot.a.get("/api/mall/order/deleteOrder?id="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function h(t){var e=ot.a.get("/api/mall/order/confirmReceive?id="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function f(t){var e=ot.a.get("/api/mall/order/pay?id="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function v(t){var e=ot.a.get("/api/mall/user/getUserInfo?token="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function g(t){var e=ot.a.post("/api/mall/user/updateUserData",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function _(t){var e=ot.a.post("/api/mall/user/updatePwd",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function C(t){var e=ot.a.post("/api/mall/order/settleAccounts",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function w(t){var e=ot.a.post("/api/mall/comment/sendComment",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function y(t){var e=ot.a.get("/api/mall/comment/getGoodComment?goodsId="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=ot.a.get("/api/mall/good/searchGoods?keyword="+t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t(e.data):n(e.message)}).catch(function(t){n(t.toString())})})}function k(t){var e=ot.a.post("/api/mall/user/logoutClient",t);return new at.a(function(t,n){e.then(function(t){if(200===t.status)return t.data;n(t.status)}).then(function(e){0===e.code?t():n(e.message)}).catch(function(t){n(t.toString())})})}function I(t){n("+9Lz")}function L(t){n("6PEx")}function T(t){n("rJHU")}function b(t){n("6UMe")}function S(t){n("aYB7")}function N(t){n("RA67")}function P(t){n("zue8")}function E(t){n("zg+n")}function A(t){n("kOgC")}function R(t){n("d3Zh")}function O(t){n("nAyt")}function G(t){n("a5yo")}function M(t){n("mm+r")}function U(t){n("j+Ny")}function B(t){n("qdLy")}function F(t){n("5KxV")}function H(t){n("4l7V")}function V(t){n("OyAk")}var $=n("kV13"),q=n("5inH"),j=n("IcnI"),D=n("4YfN"),K=n.n(D),X=n("b8UZ"),J={name:"NoticeList",props:{notices:{type:Array,default:[]}},data:function(){return{top:0,height:40,animateTime:1}},mounted:function(){setInterval(this.topAnimate,3e3)},destroyed:function(){clearInterval(this.topAnimate)},methods:{topAnimate:function(){if(this.top<=-this.notices.length*this.height)return this.top=0,void(this.animateTime=0);this.animateTime=1,this.top-=this.height}}},W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NoticeListBox"},[n("ul",{staticClass:"noticeList",style:{top:t.top+"px",transition:"top "+t.animateTime+"s"}},[t._l(t.notices,function(e,i){return n("li",{key:i},[n("a",{attrs:{href:"#"}},[t._v(t._s(e))])])}),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[t._v(t._s(t.notices[0]))])])],2)])},Z=[],Q={render:W,staticRenderFns:Z},z=Q,Y=n("C7Lr"),tt=i,et=Y(J,z,!1,tt,"data-v-458af736",null),nt=et.exports,it=n("yt7g"),st=n("rVsN"),at=n.n(st),ot=n("FOXn"),rt={name:"Mall",computed:K()({},Object(X.c)(["clientToken","clientName"])),created:function(){this.token=this.clientToken},components:{NoticeList:nt},data:function(){return{notices:["特别消息:生鲜大放送......"," 注册即可获千元好礼......","美味大闸蟹,源自阳澄湖......"],clientHeight:Object(it.b)().height,shouldShowBT:!1,token:""}},methods:K()({},Object(X.b)({clientLogout:"CLIENT_LOGOUT"}),{navTo1:function(t){this.$router.push(t)},navTo:function(t,e){this.$router.push({name:t,params:{parm:e}})},logout:function(){this.clientLogout(),k({token:this.token}).then(function(){}).catch(function(t){alert(t)}),this.$router.go(0)},backToTop:function(){Object(it.a)()},watchScrollTop:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;this.shouldShowBT=t>150}}),mounted:function(){document.addEventListener("scroll",this.watchScrollTop,!1)},beforeDestroyed:function(){document.removeEventListener("scroll",this.watchScrollTop,!1)}},ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Mall"},[n("header",[n("div",{staticClass:"container clear"},[n("span",{staticClass:"title",on:{click:function(e){return t.navTo1("/mall")}}},[t._v("Online Mart 生活所选")]),t._v(" "),n("NoticeList",{attrs:{notices:t.notices}}),t._v(" "),t.clientToken?n("div",{staticClass:"right"},[n("span",{staticClass:"name"},[t._v("欢迎您，"+t._s(t.clientName))]),t._v(" "),n("span",{on:{click:function(e){return t.navTo1("/mall/personal")}}},[t._v("个人中心")]),t._v(" "),n("span",{on:{click:t.logout}},[t._v("退出登录")])]):n("div",{staticClass:"right"},[n("span",{on:{click:function(e){return t.navTo("MallLogin","login")}}},[t._v("登录")]),t._v(" "),n("span",{on:{click:function(e){return t.navTo("MallLogin","register")}}},[t._v("注册")])])],1)]),t._v(" "),n("div",{staticClass:"content",style:{minHeight:t.clientHeight+"px"}},[n("div",{staticClass:"container"},[n("router-view")],1)]),t._v(" "),t._m(0),t._v(" "),t._m(1)])},ut=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottomInfo"},[i("div",{staticClass:"container"},[i("div",{staticClass:"service footerItem"},[i("p",{staticClass:"title"},[t._v("客户服务")]),t._v(" "),i("span",[i("i",{staticClass:"iconfont icon-people_fill"}),t._v("在线客服")]),t._v(" "),i("span",[i("i",{staticClass:"iconfont icon-fabulous"}),t._v("用户反馈")])]),t._v(" "),i("div",{staticClass:"intro footerItem"},[i("p",{staticClass:"title"},[t._v("何为Online Mart")]),t._v(" "),i("p",{staticClass:"intro-p"},[t._v("Online Mart原创生活类电商品牌，秉承网易一贯的严谨态度，我们深入世界各地，从源头全程严格把控商品生产环节，力求帮消费者甄选到优质的商品")]),t._v(" "),i("div",[t._v("\n          关注我们：\n          "),i("img",{attrs:{src:"http://yanxuan.nosdn.127.net/60068701f3a380911f237c26c91b39d0.png",alt:""}}),t._v(" "),i("img",{attrs:{src:"http://yanxuan.nosdn.127.net/031e783d7ee645b6096980d0bf83079b.png",alt:""}}),t._v(" "),i("img",{attrs:{src:"http://yanxuan.nosdn.127.net/0c8759a89cdbd7acf7f2921e6f0fad19.png",alt:""}})])]),t._v(" "),i("div",{staticClass:"code footerItem"},[i("p",{staticClass:"title"},[t._v("扫码下载APP")]),t._v(" "),i("img",{attrs:{src:n("Cwdn"),alt:""}}),t._v(" "),i("span",[t._v("下载领1000元新人礼包")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("div",{staticClass:"container"},[n("ul",{staticClass:"footerTop"},[n("li",[n("img",{attrs:{src:"//yanxuan.nosdn.127.net/e6021a6fcd3ba0af3a10243b7a2fda0d.png",alt:""}}),t._v(" "),n("span",[t._v("30天无忧退换货")])]),t._v(" "),n("li",[n("img",{attrs:{src:"//yanxuan.nosdn.127.net/e09c44e4369232c7dd2f6495450439f1.png",alt:""}}),t._v(" "),n("span",[t._v("满88元免邮费")])]),t._v(" "),n("li",[n("img",{attrs:{src:"//yanxuan.nosdn.127.net/e72ed4de906bd7ff4fec8fa90f2c63f1.png",alt:""}}),t._v(" "),n("span",[t._v("XX品质保证")])])]),t._v(" "),n("div",{staticClass:"footerBottom"},[n("ul",[n("li",[t._v("关于我们")]),t._v(" "),n("li",[t._v("帮助中心")]),t._v(" "),n("li",[t._v("售后服务")]),t._v(" "),n("li",[t._v("配送与验收")]),t._v(" "),n("li",[t._v("商务合作")]),t._v(" "),n("li",[t._v("企业采购")]),t._v(" "),n("li",[t._v("开放平台")]),t._v(" "),n("li",[t._v("搜索推荐")]),t._v(" "),n("li",[t._v("友情链接")])]),t._v(" "),n("p",[t._v("XX公司版权所有 © 1996-2018   食品经营许可证：XXXXXXXXXXXXXXXXX")])])])])}],lt={render:ct,staticRenderFns:ut},dt=lt,mt=n("C7Lr"),pt=I,ht=mt(rt,dt,!1,pt,"data-v-4946f9f1",null),ft=ht.exports,vt=n("HzJ8"),gt=n.n(vt),_t={name:"TipsInput",computed:{tipsShow:function(){return!!(this.inputText.trim().length>0&&this.inputBoxFocus)}},props:{placeholder:{type:String,default:""},tips:{type:Array,default:[]}},data:function(){return{inputText:"",inputBoxFocus:!1}},mounted:function(){document.addEventListener("click",this.documentClickHandle,!1)},destroyed:function(){document.removeEventListener("click",this.documentClickHandle,!1)},methods:{tipsClickHandle:function(t){this.$emit("tipsChosen",t)},documentClickHandle:function(t){t.target.className.includes("tipsEle")?this.inputBoxFocus=!0:this.inputBoxFocus=!1}},watch:{inputText:function(t,e){this.$emit("input",t)}}},Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"TipsInput tipsEle"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],ref:"input",staticClass:"tipsEle",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.tipsShow,expression:"tipsShow"}],staticClass:"tipsBox tipsEle"},t._l(t.tips,function(e,i){return n("li",{key:i,staticClass:"tipsEle",on:{click:function(n){return t.tipsClickHandle(e)}}},[t._v("\n      "+t._s(e)+"\n    ")])}),0)])},wt=[],yt={render:Ct,staticRenderFns:wt},xt=yt,kt=n("C7Lr"),It=L,Lt=kt(_t,xt,!1,It,"data-v-04adad9a",null),Tt=Lt.exports,bt={name:"FixedNav",props:{},data:function(){return{width:""}},mounted:function(){this.width=Object(it.b)().width+"px"}},St=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"FixedNav",style:{width:t.width}},[t._t("navContent")],2)},Nt=[],Pt={render:St,staticRenderFns:Nt},Et=Pt,At=n("C7Lr"),Rt=T,Ot=At(bt,Et,!1,Rt,"data-v-4bb42706",null),Gt=Ot.exports,Mt={name:"MallShow",components:{TipsInput:Tt,FixedNav:Gt},computed:{curPath:function(){return this.$route.path}},data:function(){return{typeList:[],searchText:"",tips:[""],navShouldFixed:!1,datamid:""}},methods:{navTo:function(t){this.$router.push(t)},judgeCurPath:function(t){return-1===t?this.curPath.indexOf("/show/index")>-1:this.curPath.indexOf("/show/goodsList/"+t)>-1},selectType:function(t){var e=0,n=!0,i=!1,s=void 0;try{for(var a,o=gt()(this.datamid);!(n=(a=o.next()).done);n=!0){var r=a.value;if(this.datamid.length<7)break;if(e+=1,r.id==t){if(e<4){this.typeList=this.datamid.slice(0,7);break}if(this.datamid.length-e<3){this.typeList=this.datamid.slice(this.datamid.length-6,this.datamid.length),-1==this.typeList[0].id||this.typeList.unshift({id:-1,name:"首页"});break}this.typeList=this.datamid.slice(e-3,e+3),-1==this.typeList[0].id||this.typeList.unshift({id:-1,name:"首页"});break}}}catch(t){i=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw s}}-1===t?this.navTo("/mall/show/index"):this.navTo("/mall/show/goodsList/"+t+"/all")},searchTip:function(t){},searchTextChange:function(t){},searchConfirm:function(){if(this.searchText.trim().length<=0)return void alert("输入不能为空！");this.navTo("/mall/show/goodsList/0/"+this.searchText)},scrollHandle:function(){var t=this.$refs.typeList.getBoundingClientRect().top;this.navShouldFixed=!(t>0)}},mounted:function(){var t=this;o().then(function(e){e.unshift({id:-1,name:"首页"}),t.datamid=e,e.length>7?t.typeList=e.slice(0,7):t.typeList=e}).catch(function(t){alert(t)}),document.addEventListener("scroll",this.scrollHandle,!1)},destroyed:function(){document.removeEventListener("scroll",this.scrollHandle,!1)},watch:{searchText:function(t,e){this.searchTextChange(t)}}},Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MallShow"},[n("FixedNav",{directives:[{name:"show",rawName:"v-show",value:t.navShouldFixed,expression:"navShouldFixed"}]},[n("div",{staticClass:"container fixedNavContainer",attrs:{slot:"navContent"},slot:"navContent"},[n("h3",{staticClass:"fixedLeft",on:{click:function(e){return t.navTo("/mall/show/index")}}},[t._v("Online Mart")]),t._v(" "),n("ul",{staticClass:"fixedRight"},t._l(t.typeList,function(e,i){return n("li",{key:"type"+e.id,class:{selected:t.judgeCurPath(e.id)},on:{click:function(n){return t.selectType(e.id)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])}),0)])]),t._v(" "),n("ul",{ref:"typeList",staticClass:"typeList"},t._l(t.typeList,function(e,i){return n("li",{key:"type"+e.id,class:{selected:t.judgeCurPath(e.id)},on:{click:function(n){return t.selectType(e.id)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),0),t._v(" "),n("router-view")],1)},Bt=[],Ft={render:Ut,staticRenderFns:Bt},Ht=Ft,Vt=n("C7Lr"),$t=b,qt=Vt(Mt,Ht,!1,$t,"data-v-e76771fc",null),jt=qt.exports,Dt={name:"SectionHeader",props:{title:{type:String,default:""},tips:{type:String,default:""},moreText:{type:String,default:""}},data:function(){return{}},mounted:function(){}},Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"SectionHeader"},[n("div",{staticClass:"left"},[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("span",[t._v(t._s(t.tips))])]),t._v(" "),n("span",{staticClass:"right"},[t._v(t._s(t.moreText))])])},Xt=[],Jt={render:Kt,staticRenderFns:Xt},Wt=Jt,Zt=n("C7Lr"),Qt=S,zt=Zt(Dt,Wt,!1,Qt,"data-v-e8d70ef0",null),Yt=zt.exports,te={name:"ZoomImg",props:{imgSrc:{type:String,default:""}},data:function(){return{}},mounted:function(){}},ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ZoomImg"},[n("img",{attrs:{src:t.imgSrc,alt:""}}),t._v(" "),n("div",{staticClass:"otherEle"},[t._t("otherEle")],2)])},ne=[],ie={render:ee,staticRenderFns:ne},se=ie,ae=n("C7Lr"),oe=N,re=ae(te,se,!1,oe,"data-v-631cbf1a",null),ce=re.exports,ue={name:"GoodsItem",props:{id:{type:Number,default:0},img:{type:String,default:""},name:{type:String,default:""},price:{type:Number,default:0}},data:function(){return{}},methods:{navTo:function(t){this.$router.push(t)}}},le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"GoodsItem"},[n("div",{staticClass:"imgBox"},[n("img",{attrs:{src:t.img,alt:"商品图片"},on:{click:function(e){return t.navTo("/mall/goods/"+t.id)}}})]),t._v(" "),n("div",{staticClass:"goodsInfo"},[n("span",{staticClass:"goodsName ellipsis",on:{click:function(e){return t.navTo("/mall/goods/"+t.id)}}},[t._v(t._s(t.name))]),t._v(" "),n("span",{staticClass:"price"},[t._v(t._s("¥"+t.price))])])])},de=[],me={render:le,staticRenderFns:de},pe=me,he=n("C7Lr"),fe=P,ve=he(ue,pe,!1,fe,"data-v-7bec0f0a",null),ge=ve.exports,_e={name:"Slick",props:{ulWidth:{type:Number,default:0},showWidth:{type:Number,default:0},height:{type:Number,default:0}},computed:{pageNum:function(){return Math.ceil(this.ulWidth/this.showWidth)},translateX:function(){return-(this.curPage-1)*this.showWidth}},data:function(){return{btnWidth:40,curPage:1}},methods:{prev:function(){this.curPage<=1||(this.curPage-=1)},next:function(){this.curPage>=this.pageNum||(this.curPage+=1)}},mounted:function(){}},Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Slick",style:{width:t.showWidth+2*t.btnWidth+20+"px",height:t.height+"px"}},[n("div",{staticClass:"prev",style:{width:t.btnWidth+"px",height:t.btnWidth+"px",lineHeight:t.btnWidth+"px",opacity:t.curPage<=1?.3:1},on:{click:t.prev}},[n("i",{staticClass:"iconfont icon-return"})]),n("div",{staticClass:"listWrapper",style:{width:t.showWidth+"px",height:t.height+"px"}},[n("div",{staticClass:"animateList",style:{width:t.ulWidth+"px",transform:"translate3d("+t.translateX+"px,0,0)"}},[t._t("list")],2)]),n("div",{staticClass:"next",style:{width:t.btnWidth+"px",height:t.btnWidth+"px",lineHeight:t.btnWidth+"px",opacity:t.curPage>=t.pageNum?.3:1},on:{click:t.next}},[n("i",{staticClass:"iconfont icon-enter"})])])},we=[],ye={render:Ce,staticRenderFns:we},xe=ye,ke=n("C7Lr"),Ie=E,Le=ke(_e,xe,!1,Ie,"data-v-5da426c7",null),Te=Le.exports,be=n("ZLEe"),Se=n.n(be),Ne={name:"FadeSwiper",props:{width:{type:String,default:""},height:{type:String,default:""}},computed:{},data:function(){return{len:Se()(this.$slots).length,curIndex:0,timer:null}},methods:{prev:function(){if(this.curIndex<=0)return void(this.curIndex=this.len-1);this.curIndex=this.curIndex-1},next:function(){if(this.curIndex>=this.len-1)return void(this.curIndex=0);this.curIndex=this.curIndex+1},selectPage:function(t){this.curIndex=t},clearTimer:function(){clearInterval(this.timer),this.timer=null},setTimer:function(){this.timer=setInterval(this.next,5e3)}},mounted:function(){this.setTimer()},beforeDestroyed:function(){this.clearTimer()}},Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"FadeSwiper",style:{width:t.width,height:t.height},on:{mouseover:function(e){return e.stopPropagation(),t.clearTimer(e)},mouseout:function(e){return e.stopPropagation(),t.setTimer(e)}}},[n("div",{staticClass:"swiperWrapper"},t._l(t.len,function(e,i){return n("div",{staticClass:"swiperItem",style:{opacity:t.curIndex===i?1:0}},[t._t("item"+(i+1))],2)}),0),t._v(" "),n("div",{staticClass:"prev arrow",on:{click:t.prev}},[n("i",{staticClass:"iconfont icon-return"})]),t._v(" "),n("div",{staticClass:"next arrow",on:{click:t.next}},[n("i",{staticClass:"iconfont icon-enter"})]),t._v(" "),n("div",{staticClass:"circles"},t._l(t.len,function(e,i){return n("span",{key:i,class:t.curIndex===i?"selected":"",on:{click:function(e){return t.selectPage(i)}}})}),0)])},Ee=[],Ae={render:Pe,staticRenderFns:Ee},Re=Ae,Oe=n("C7Lr"),Ge=A,Me=Oe(Ne,Re,!1,Ge,"data-v-0d6d910c",null),Ue=Me.exports,Be={name:"MallIndex",components:{SectionHeader:Yt,ZoomImg:ce,GoodsItem:ge,Slick:Te,FadeSwiper:Ue,TipsInput:Tt},computed:{clientWidth:function(){return Object(it.b)().width-Object(it.d)()+"px"}},data:function(){return{typeList:[],goodsList:[],goodsList0:{},initTimestamp:0,newTimestamp:0,timer:null,h:0,m:0,s:0,searchText:"",tips:[]}},methods:{searchConfirm:function(){if(this.searchText.trim().length<=0)return void alert("输入不能为空！");this.navTo("/mall/show/goodsList/0/"+this.searchText)},filterGoodsByType:function(t){return this.goodsList.filter(function(e){return e.typeId===t})},navTo:function(t){this.$router.push(t)},selectType:function(t){-1!=t&&this.navTo("/mall/show/goodsList/"+t+"/all")},getGoodsList:function(t){var e=this;r(t).then(function(t){e.goodsList=t,e.goodsList0=e.goodsList[0]}).catch(function(t){alert(t)})},searchTip:function(t){alert(t)},inputTextChange:function(t){},scrollHandle:function(){var t=this.$refs.typeList.getBoundingClientRect().top;this.navShouldFixed=!(t>0)}},mounted:function(){var t=this;o().then(function(e){e.unshift({id:-1,name:"首页"}),t.typeList=e,t.getGoodsList(-1)}).catch(function(t){alert(t)}),this.initTimestamp=(new Date).getTime()+144e5,this.timer=setInterval(function(){t.newTimestamp=(new Date).getTime();var e=parseInt((t.initTimestamp-t.newTimestamp)/1e3);e=e%31536e3%2592e3%86400,t.h=new String(Math.floor(e/3600)).padStart(2,"0"),e%=3600,t.m=new String(Math.floor(e/60)).padStart(2,"0"),e%=60,t.s=new String(e).padStart(2,"0")},1e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null}},Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MallIndex"},[i("FadeSwiper",{staticClass:"swiperBox",attrs:{width:t.clientWidth,height:"420px"}},[i("img",{staticClass:"banner",attrs:{slot:"item1",src:n("LOA1")},slot:"item1"}),t._v(" "),i("img",{staticClass:"banner",attrs:{slot:"item2",src:n("Mn6R")},slot:"item2"}),t._v(" "),i("img",{staticClass:"banner",attrs:{slot:"item3",src:n("LHqX")},slot:"item3"})]),t._v(" "),i("div",{staticStyle:{color:"black","margin-top":"460px",float:"right","margin-right":"50px"}},[i("ul",[i("li",[i("TipsInput",{ref:"TipsInput",staticStyle:{display:"inline-block"},attrs:{placeholder:"请输入商品关键字",tips:t.tips},on:{tipsChosen:t.searchTip},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),i("i",{staticClass:"iconfont icon-search",on:{click:t.searchConfirm}})],1)])]),t._v(" "),i("section",{staticClass:"newGoods section"},[i("SectionHeader",{attrs:{title:"新品上市",tips:"热卖新品",moreText:"更多新品>"}}),t._v(" "),i("Slick",{attrs:{ulWidth:266*t.goodsList.length+10*(t.goodsList.length-1),showWidth:1094,height:360}},[i("ul",{staticClass:"goodsList",style:{width:266*t.goodsList.length+10*(t.goodsList.length-1)+"px"},attrs:{slot:"list"},slot:"list"},t._l(t.goodsList,function(t,e){return i("GoodsItem",{key:+t.id,style:{marginRight:(e+1)%4==0?"0px":"10px"},attrs:{id:t.id,img:t.img,name:t.name,price:t.price}})}),1)])],1),t._v(" "),i("section",{staticClass:"flashSale section"},[i("SectionHeader",{attrs:{title:"限时抢",tips:"抢抢抢，好货不等人",moreText:"更多抢购>"}}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"left"},[i("p",{staticClass:"title",staticStyle:{color:"white"}},[t._v("特价场")]),t._v(" "),i("hr",{staticStyle:{"border-color":"white"}}),t._v(" "),i("p",{staticClass:"tips",staticStyle:{color:"white"}},[t._v("距离结束还剩")]),t._v(" "),i("div",{staticClass:"countBox"},[i("span",{staticClass:"time"},[t._v(t._s(t.h))]),t._v(" "),i("span",[t._v(":")]),t._v(" "),i("span",{staticClass:"time"},[t._v(t._s(t.m))]),t._v(" "),i("span",[t._v(":")]),t._v(" "),i("span",{staticClass:"time"},[t._v(t._s(t.s))])]),t._v(" "),i("div",{staticClass:"allBtn"},[t._v("查看全部 >")])]),i("ul",{staticClass:"right"},t._l(t.goodsList.slice(0,4),function(e,n){return i("li",{key:e.id},[i("img",{staticClass:"leftImg",attrs:{src:e.img}}),t._v(" "),i("div",{staticClass:"rightBox"},[i("p",{staticClass:"goodsName ellipsis",on:{click:function(n){return t.navTo("/mall/goods/"+e.id)}}},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"less"},[i("span",{staticClass:"lessBar"}),t._v(" "),i("span",{staticClass:"lessNum"},[t._v("还剩"+t._s(e.stockNum)+"件")])]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"nowPrice"},[t._v("限时价¥"+t._s(e.price))]),t._v(" "),i("span",{staticClass:"beforePrice"},[t._v("原价¥"+t._s(e.price+60))])]),t._v(" "),i("div",{staticClass:"buyBtn",on:{click:function(n){return t.navTo("/mall/goods/"+e.id)}}},[t._v("立即抢购")])])])}),0)])],1),t._v(" "),i("section",{staticClass:"hotGoods section"},[i("SectionHeader",{attrs:{title:"今日推荐",tips:"最火最潮商品，为您挑选",moreText:"更多推荐>"}}),t._v(" "),i("div",{staticClass:"content"},[i("ul",{staticClass:"left"},[i("GoodsItem",{attrs:{id:t.goodsList0.id,img:t.goodsList0.img,name:t.goodsList0.name,price:t.goodsList0.price}})],1),t._v(" "),i("ul",{staticClass:"right"},t._l(t.goodsList.slice(3,9),function(t,e){return i("GoodsItem",{key:+t.id,style:{marginBottom:e<=2?"10px":"0px"},attrs:{id:t.id,img:t.img,name:t.name,price:t.price}})}),1)])],1),t._v(" "),t._l(t.typeList.slice(1),function(e,n){return i("section",{key:e.id,staticClass:"typeSection section"},[i("SectionHeader",{attrs:{title:e.name,tips:"",moreText:"查看更多>"},nativeOn:{click:function(n){return t.selectType(e.id)}}}),t._v(" "),i("ul",{staticClass:"content"},t._l(t.filterGoodsByType(e.id).slice(0,4),function(t,e){return i("GoodsItem",{key:+t.id,style:{marginRight:(e+1)%4==0?"0px":"25px"},attrs:{id:t.id,img:t.img,name:t.name,price:t.price}})}),1)],1)})],2)},He=[],Ve={render:Fe,staticRenderFns:He},$e=Ve,qe=n("C7Lr"),je=R,De=qe(Be,$e,!1,je,"data-v-41f52d78",null),Ke=De.exports,Xe={name:"HeadImgInput",data:function(){return{file:void 0,headImageUrl:"",headImageUrlUpload:"",baseURL:""}},mounted:function(){this.baseURL=this.$baseURL},methods:{httpUpload:function(){var t=this,e=new FormData;e.append("file",this.file.raw);var n={headers:{"Content-Type":"multipart/form-data"}};console.log(this.file),console.log(this.file.raw),ot.a.post(this.baseURL+"/api/mall/user/headImgUpload",e,n).then(function(t){if(200===t.status)return t.data;alert("检查请求")}).then(function(e){0===e.code?(t.headImageUrl=URL.createObjectURL(t.file.raw),t.headImageUrlUpload=e.data,t.$emit("headImageUrl",t.headImageUrlUpload)):alert(e.message)}).catch(function(t){alert(t.toString())})},fileChange:function(t){this.file=t},handleAvatarSuccess:function(t,e){},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,n=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&n}}},Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headImgInput"},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseURL+"/api/mall/user/headImgUpload","show-file-list":!1,"http-request":t.httpUpload,"on-success":t.handleAvatarSuccess,"on-change":t.fileChange,"before-upload":t.beforeAvatarUpload}},[t.headImageUrl?n("img",{staticClass:"avatar",attrs:{src:t.headImageUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},We=[],Ze={render:Je,staticRenderFns:We},Qe=Ze,ze=n("C7Lr"),Ye=O,tn=ze(Xe,Qe,!1,Ye,null,null),en=tn.exports,nn={name:"ClientLogin",components:{HeadImgInput:en},computed:{width:function(){return Object(it.b)().width},height:function(){return Object(it.b)().height}},data:function(){return{curIndex:0,goodsImg:""}},created:function(){"login"==this.$route.params.parm?this.curIndex=0:"register"==this.$route.params.parm&&(this.curIndex=1)},methods:K()({},Object(X.b)({setClientName:"SET_CLIENT_NAME",setClientToken:"SET_CLIENT_TOKEN"}),{headImageUrl:function(t){this.goodsImg=t},setIndex:function(t){t!==this.curIndex&&(this.curIndex=t)},login:function(){var t=this;s({email:this.$refs.email.value,pwd:this.$refs.pwd.value}).then(function(e){t.setClientName(e.name),t.setClientToken(e.token),t.$router.push("/")}).catch(function(t){alert(t)})},signup:function(){var t=this;if(!/^\d{5,12}@[qQ][qQ]\.(com|cn)$/.test(this.$refs.signEmail.value))return void alert("邮箱正则验证未通过!");if(!/^[A-Za-z0-9]{4,15}$/.test(this.$refs.signName.value))return void alert("昵称正则验证未通过!");if(!/^.*(?=.{8,16})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/.test(this.$refs.signPwd.value))return void alert("密码正则验证未通过!");var e=/[\u4E00-\u9FA5]/;return e.test(this.$refs.signAddress.value)?e.test(this.$refs.signRecipient.value)?/^1[3|4|5|8|7][0-9]\d{4,8}$/.test(this.$refs.signPhone.value)?void a({email:this.$refs.signEmail.value,nickname:this.$refs.signName.value,pwd:this.$refs.signPwd.value,recipient:this.$refs.signRecipient.value,address:this.$refs.signAddress.value,phone:this.$refs.signPhone.value,img:this.goodsImg}).then(function(e){t.setClientName(e.name),t.setClientToken(e.token),t.$router.push("/")}).catch(function(t){alert(t)}):void alert("号码正则验证未通过!"):void alert("收件人正则验证未通过!"):void alert("地址正则验证未通过!")}})},sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ClientLogin",style:{width:t.width+"px",height:t.height+"px"}},[n("div",{staticClass:"content"},[n("h3",[t._v("Online Mart")]),t._v(" "),n("div",{staticClass:"tag"},[n("span",{class:{selected:0===t.curIndex},on:{click:function(e){return t.setIndex(0)}}},[t._v("登录")]),t._v(" "),n("span",{class:{selected:1===t.curIndex},on:{click:function(e){return t.setIndex(1)}}},[t._v("注册")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.curIndex,expression:"curIndex===0"}],staticClass:"formBox"},[n("input",{ref:"email",attrs:{type:"text",placeholder:"邮箱账号"}}),t._v(" "),n("input",{ref:"pwd",attrs:{type:"password",placeholder:"密码"}}),t._v(" "),n("button",{on:{click:t.login}},[t._v("登录")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curIndex,expression:"curIndex===1"}],staticClass:"formBox"},[n("input",{ref:"signEmail",attrs:{type:"text",placeholder:"请输入注册的邮箱"}}),t._v(" "),n("input",{ref:"signName",attrs:{type:"text",placeholder:"请输入昵称"}}),t._v(" "),n("input",{ref:"signPwd",attrs:{type:"password",placeholder:"请输入密码"}}),t._v(" "),n("input",{ref:"signRecipient",attrs:{type:"text",placeholder:"请输入收件人姓名"}}),t._v(" "),n("input",{ref:"signAddress",attrs:{type:"text",placeholder:"请输入收件地址"}}),t._v(" "),n("input",{ref:"signPhone",attrs:{type:"text",placeholder:"请输入联系电话"}}),t._v(" "),n("div",{staticClass:"inputBox"},[n("span",{staticClass:"headimg"},[t._v("选择头像：")]),t._v(" "),n("HeadImgInput",{on:{headImageUrl:t.headImageUrl}})],1),t._v(" "),n("button",{on:{click:t.signup}},[t._v("注册")])])])])},an=[],on={render:sn,staticRenderFns:an},rn=on,cn=n("C7Lr"),un=G,ln=cn(nn,rn,!1,un,"data-v-dbe4335a",null),dn=ln.exports,mn=n("2FN2"),pn=n("uPNt"),hn={name:"GoodsDetail",components:{NumberInput:mn.a,Radio:pn.a,GoodsItem:ge},computed:K()({},Object(X.c)(["clientToken","clientName"]),{id:function(){return this.$route.params.id},goodsPrice:function(){var t=this,e=0;return this.specs.map(function(n,i){n.id===t.temSpecId&&(e=Number(n.unitPrice))}),this.num*e},temStockNum:function(){var t=this,e=0;return this.specs.map(function(n,i){n.id===t.temSpecId&&(e=Number(n.stockNum))}),e},filterList:function(){var t=this;return this.goodsList.filter(function(e){return String(e.id)!==String(t.id)})}}),data:function(){return{goodsImg:"",goodsName:"",goodsDesc:"",specs:[],typeId:"",temSpecId:0,num:1,msgList:[],askContent:"",tagList:["评价","商品问答"],curIndex:0,rate:"",commentList:Array,goodsList:[]}},methods:{changeIndex:function(t){this.curIndex=t},getGoodsInfo:function(t){var e=this;c(t).then(function(t){e.goodsImg=t.img,e.goodsName=t.name,e.goodsDesc=t.desc,e.specs=t.specList,e.typeId=t.typeId,e.temSpecId=t.specList[0].id,e.getTypeGoodsList(t.typeId)}).catch(function(t){alert(t)})},getGoodsMsg:function(t){var e=this;u(t).then(function(t){e.msgList=t}).catch(function(t){alert(t)})},postAsk:function(){var t=this;if(!(this.askContent.trim().length<=0)){l({asker:this.clientToken,content:this.askContent,goodId:this.id}).then(function(){var e=new Date;t.msgList.unshift({id:"new",content:t.askContent,state:0,asker:t.clientName,createTime:e.getMonth()+1+"-"+e.getDate(),reply:{}}),t.askContent=""}).catch(function(t){alert(t)})}},addToCart:function(){return this.clientToken?this.num<1?void alert("数量不能小于1"):void d({name:this.clientToken,specId:this.temSpecId,stateId:0,goodNum:this.num,amount:this.goodsPrice}).then(function(){alert("加入购物车成功！请前往 个人中心->购物车 结算")}).catch(function(t){alert(t)}):(alert("请先登录！"),this.$route.go(0))},buy:function(){return this.clientToken?this.num<1?void alert("数量不能小于1"):void d({name:this.clientToken,specId:this.temSpecId,goodNum:this.num,stateId:1,amount:this.goodsPrice}).then(function(){alert("自动付款成功！请耐心等待包裹派送~")}).catch(function(t){alert(t)}):void alert("请先登录！")},getComment:function(t){var e=this;y(t).then(function(t){if(Se()(t).length<=0)return e.rate="",void(e.commentList=[]);e.rate=t.rate,e.commentList=t.commentList}).catch(function(t){alert(t)})},getTypeGoodsList:function(t){var e=this;r(t).then(function(t){e.goodsList=t}).catch(function(t){alert(t)})}},created:function(){this.getGoodsInfo(this.id),this.getGoodsMsg(this.id),this.getComment(this.id)},watch:{$route:function(t,e){this.getGoodsInfo(t.params.id),this.getGoodsMsg(t.params.id),this.getComment(t.params.id)}}},fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"GoodsDetail"},[n("div",{staticClass:"content"},[n("div",{staticClass:"goodsInfo"},[n("img",{staticClass:"infoLeft",attrs:{src:t.goodsImg,alt:"商品图片"}}),t._v(" "),n("div",{staticClass:"infoRight"},[n("div",{staticClass:"infoBox"},[n("h3",{staticClass:"name"},[t._v(t._s(t.goodsName))])]),t._v(" "),n("div",{staticClass:"infoBox"},[n("p",[t._v(t._s(t.goodsDesc))])]),t._v(" "),n("div",{staticClass:"infoBox"},[n("h3",{staticClass:"price"},[t._v(t._s("¥"+t.goodsPrice))])]),t._v(" "),n("div",{staticClass:"infoBox"},[n("span",[t._v("规格：")]),t._v(" "),t._l(t.specs,function(e,i){return n("Radio",{key:e.id,attrs:{initVal:t.specs[0].id,radioName:"spec",radioVal:e.id},model:{value:t.temSpecId,callback:function(e){t.temSpecId=e},expression:"temSpecId"}},[n("span",{staticClass:"tips",attrs:{slot:"tips"},slot:"tips"},[t._v(t._s(e.specName+" 还剩"+e.stockNum+"件"))])])})],2),t._v(" "),n("div",{staticClass:"infoBox"},[n("span",[t._v("数量：")]),t._v(" "),n("NumberInput",{attrs:{min:1,max:t.temStockNum},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),n("button",{staticClass:"buyBtn",on:{click:t.buy}},[t._v("立即购买")]),t._v(" "),n("button",{on:{click:t.addToCart}},[t._v("加入购物车")])])]),t._v(" "),n("section",{staticClass:"msgBox leftContainer"},[n("ul",{staticClass:"tagList"},t._l(t.tagList,function(e,i){return n("li",{key:"tag"+i,class:{selected:t.curIndex===i},on:{click:function(e){return t.changeIndex(i)}}},[t._v("\n          "+t._s(e)+"\n        ")])}),0),t._v(" "),0===t.curIndex?n("div",{staticClass:"commentBody"},[t.commentList.length>0?n("div",[n("div",{staticClass:"rateBox"},[n("span",[t._v("好评率")]),t._v(" "),n("span",{staticClass:"rate"},[t._v(t._s(t.rate+"%"))])]),t._v(" "),n("ul",{staticClass:"commentList1"},t._l(t.commentList,function(e,i){return n("li",{key:"comment"+i},[n("div",{staticClass:"userInfo"},[n("img",{attrs:{src:e.user.headimg}}),t._v(" "),n("span",[t._v(t._s(e.user.nickname))])]),t._v(" "),n("div",{staticClass:"commentInfo"},[n("div",{staticClass:"starList"},t._l(e.score/20,function(t,i){return n("i",{key:e.id+""+i,staticClass:"iconfont icon-collection_fill"})}),0),t._v(" "),n("p",{staticClass:"specName"},[t._v(t._s(e.specName))]),t._v(" "),n("p",{staticClass:"comment"},[t._v(t._s(e.comment))]),t._v(" "),n("p",{staticClass:"time"},[t._v(t._s(e.time))])])])}),0)]):n("div",{staticClass:"noComment"},[t._v("暂时还没有评论~")])]):n("div",{staticClass:"msgBody"},[n("div",{staticClass:"inputBox"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.askContent,expression:"askContent"}],attrs:{placeholder:"请输入提问内容",cols:"30",rows:"10"},domProps:{value:t.askContent},on:{input:function(e){e.target.composing||(t.askContent=e.target.value)}}}),t._v(" "),t.clientToken?n("button",{class:{ban:t.askContent.trim().length<=0},on:{click:t.postAsk}},[t._v("提问")]):n("div",{staticClass:"banAsk"},[t._v("请先登录")])]),t._v(" "),n("ul",{staticClass:"msgList"},t._l(t.msgList,function(e,i){return n("li",{key:"msg"+e.id},[n("div",{staticClass:"ask"},[n("span",{staticClass:"note"},[t._v("问")]),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(e.content))]),t._v(" "),n("span",{staticClass:"tipsInfo"},[t._v(t._s(e.asker+" "+e.createTime))])]),t._v(" "),n("div",{staticClass:"answer"},[n("span",{staticClass:"note"},[t._v("答")]),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(Object.keys(e.reply).length>0?e.reply.content:"暂时没有回答"))]),t._v(" "),n("span",{staticClass:"tipsInfo"},[t._v(t._s(Object.keys(e.reply).length>0?e.reply.replyTime:""))])])])}),0)])]),t._v(" "),n("section",{staticClass:"typeGoods rightContainer"},[n("div",{staticClass:"title"},[t._v("相似商品")]),t._v(" "),n("ul",{staticClass:"list"},t._l(t.filterList,function(t,e){return n("GoodsItem",{key:+t.id,attrs:{id:t.id,img:t.img,name:t.name,price:t.price}})}),1)])])])},vn=[],gn={render:fn,staticRenderFns:vn},_n=gn,Cn=n("C7Lr"),wn=M,yn=Cn(hn,_n,!1,wn,"data-v-332661bc",null),xn=yn.exports,kn={name:"GoodsList",components:{GoodsItem:ge},computed:{isSearchPage:function(){return 0===Number(this.typeId)},typeId:function(){return this.$route.params.typeId||0},keyword:function(){return this.$route.params.keyword||""},sortedList:function(){var t=this.goodsList.slice();return 0===this.sortMode?t:1===this.sortMode?t.sort(function(t,e){return t.price-e.price}):2===this.sortMode?t.sort(function(t,e){return e.price-t.price}):void 0}},data:function(){return{goodsList:[],sortMode:0}},methods:{getGoodsList:function(t){var e=this;r(t).then(function(t){e.goodsList=t}).catch(function(t){alert(t)})},searchGoods:function(t){var e=this;x(t).then(function(t){e.goodsList=t}).catch(function(t){alert(t)})},changeSortMode:function(t){this.sortMode=3===t?1===this.sortMode?2:1:0}},mounted:function(){this.isSearchPage?this.searchGoods(this.keyword):this.getGoodsList(this.typeId)},watch:{$route:function(t,e){this.sortMode=0,this.isSearchPage?this.searchGoods(t.params.keyword):this.getGoodsList(this.typeId)}}},In=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"GoodsList"},[n("div",{staticClass:"sortBox"},[n("span",{staticClass:"title"},[t._v("排序：")]),t._v(" "),n("span",{class:["normal",{selected:0===t.sortMode}],on:{click:function(e){return t.changeSortMode(0)}}},[t._v("默认")]),t._v(" "),n("span",{class:["normal",{selected:0!==t.sortMode}],on:{click:function(e){return t.changeSortMode(3)}}},[t._v("\n      价格\n      "),n("i",{class:["iconfont","icon-arrows-4-7",{selected:1===t.sortMode}]}),n("i",{class:["iconfont","icon-arrows-4-7",{selected:2===t.sortMode}]})])]),t._v(" "),n("ul",{staticClass:"result"},[t._l(t.sortedList,function(t,e){return n("GoodsItem",{key:+t.id,style:{marginRight:(e+1)%4==0?"0px":"25px"},attrs:{id:t.id,img:t.img,name:t.name,price:t.price}})}),t._v(" "),t.goodsList.length<=0?n("p",{staticClass:"noGoods"},[t._v("抱歉，没有找到相关商品~")]):t._e()],2)])},Ln=[],Tn={render:In,staticRenderFns:Ln},bn=Tn,Sn=n("C7Lr"),Nn=U,Pn=Sn(kn,bn,!1,Nn,"data-v-a31262d8",null),En=Pn.exports,An={name:"Personal",computed:K()({},Object(X.c)(["clientToken","clientName"])),data:function(){return{curPath:this.$route.path}},methods:{navTo:function(t){this.$router.push(t)}},mounted:function(){},watch:{$route:function(t,e){this.curPath=t.path}}},Rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Personal"},[n("ul",{staticClass:"titleList"},[n("li",{class:{selected:"/mall/personal/cart"===t.curPath},on:{click:function(e){return t.navTo("/mall/personal/cart")}}},[t._v("购物车")]),t._v(" "),n("li",{class:{selected:"/mall/personal/myOrder"===t.curPath},on:{click:function(e){return t.navTo("/mall/personal/myOrder")}}},[t._v("我的订单")]),t._v(" "),n("li",{class:{selected:"/mall/personal/myData"===t.curPath},on:{click:function(e){return t.navTo("/mall/personal/myData")}}},[t._v("修改资料")])]),t._v(" "),n("div",{staticClass:"content"},[n("router-view")],1)])},On=[],Gn={render:Rn,staticRenderFns:On},Mn=Gn,Un=n("C7Lr"),Bn=B,Fn=Un(An,Mn,!1,Bn,"data-v-166c5537",null),Hn=Fn.exports,Vn=n("kfLN"),$n={name:"MyOrder",components:{Popup:Vn.a},computed:K()({},Object(X.c)(["clientToken"])),data:function(){return{tagList:["全部订单","待付款","待发货","已发货","已完成"],curIndex:0,orderList:[],popupShow:!1,curOrderId:"",curCommentGoodsId:"",curCommentGoodsDetailId:"",curStar:0,hasClickStar:!1,comment:""}},methods:{changeIndex:function(t){this.curIndex=t,this.getOrderByState(this.curIndex-1)},navTo:function(t){this.$router.push(t)},getOrderByState:function(t){var e=this;m(t,this.clientToken).then(function(t){e.orderList=t}).catch(function(t){alert(t)})},deleteOrder:function(t){var e=this;p(t).then(function(){alert("删除订单成功！"),e.orderList.map(function(n,i){n.id===t&&e.orderList.splice(i,1)})}).catch(function(t){alert(t)})},confirmPay:function(t){var e=this;f(t).then(function(){alert("支付成功！"),e.orderList.map(function(e,n){e.id===t&&(e.stateId=1)})}).catch(function(t){alert(t)})},confirmReceive:function(t){var e=this;h(t).then(function(){alert("确认收货成功！"),e.orderList.map(function(e,n){e.id===t&&(e.stateId=3)})}).catch(function(t){alert(t)})},closePopup:function(){this.popupShow=!1,this.curCommentGoodsId="",this.curOrderId="",this.curCommentGoodsDetailId="",this.hasClickStar=!1,this.curStar=0,this.comment=""},showPopup:function(t,e,n){this.curCommentGoodsId=e,this.curOrderId=t,this.curCommentGoodsDetailId=n,this.popupShow=!0},sendComment:function(){var t=this;if(this.curStar<=0||""==this.comment)return void alert("评分和评价不能为空！");w({name:this.clientToken,orderId:this.curOrderId,goodId:this.curCommentGoodsId,specId:this.curCommentGoodsDetailId,comment:this.comment,score:20*this.curStar}).then(function(){alert("评价成功！");var e=!0,n=!1,i=void 0;try{for(var s,a=gt()(t.orderList);!(e=(s=a.next()).done);e=!0){var o=s.value;o.id===t.curOrderId&&(o.hasComment=!0)}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}t.closePopup()}).catch(function(t){alert(t)})},setCurStar:function(t){this.hasClickStar||(this.curStar=t)},confirmStar:function(t){this.curStar=t,this.hasClickStar=!0}},mounted:function(){this.getOrderByState(-1)}},qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MyOrder"},[n("ul",{staticClass:"tagList"},t._l(t.tagList,function(e,i){return n("li",{key:"tag"+i,class:{selected:t.curIndex===i},on:{click:function(e){return t.changeIndex(i)}}},[t._v("\n      "+t._s(e)+"\n    ")])}),0),t._v(" "),n("div",{staticClass:"orderBox"},[t._m(0),t._v(" "),n("ul",{staticClass:"orderList"},t._l(t.orderList,function(e,i){return n("li",{key:"order"+e.id},[n("div",{staticClass:"orderHeader"},[n("span",{staticClass:"orderTime"},[t._v(t._s(e.createTime))]),t._v(" "),n("span",{staticClass:"orderId"},[t._v(t._s("订单号："+e.id))]),t._v(" "),n("span",{staticClass:"state"},[t._v(t._s(t.tagList[e.stateId+1]))]),t._v(" "),n("span",{staticClass:"deleteBtn",on:{click:function(n){return t.deleteOrder(e.id)}}},[n("i",{staticClass:"iconfont icon-close"})])]),t._v(" "),n("div",{staticClass:"orderDetail"},[n("img",{attrs:{src:e.goods.img,alt:"商品图片"}}),t._v(" "),n("div",{staticClass:"goodsName"},[n("p",{on:{click:function(n){return t.navTo("/mall/goods/"+e.goods.id)}}},[t._v(t._s(e.goods.name))]),t._v(" "),n("span",[t._v(t._s(e.goods.spec))])]),t._v(" "),n("span",{staticClass:"unitPrice"},[t._v(t._s("￥"+e.goods.unitPrice))]),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(e.goodNum))]),t._v(" "),n("span",{staticClass:"amount"},[t._v(t._s("￥"+e.amount))]),t._v(" "),0===e.stateId?n("button",{on:{click:function(n){return t.confirmPay(e.id)}}},[t._v("确认付款")]):2===e.stateId?n("button",{on:{click:function(n){return t.confirmReceive(e.id)}}},[t._v("确认收货")]):3!==e.stateId||e.hasComment?3===e.stateId&&e.hasComment?n("span",{staticClass:"hasComment"},[t._v("已评价")]):t._e():n("button",{on:{click:function(n){return t.showPopup(e.id,e.goods.id,e.goods.specId)}}},[t._v("评价")])])])}),0)]),t._v(" "),n("Popup",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],attrs:{title:"商品评价"},on:{popupClose:t.closePopup}},[n("div",{staticClass:"popupContent",attrs:{slot:"popupContent"},slot:"popupContent"},[n("div",{staticClass:"scoreBox"},[n("span",{staticClass:"tips"},[t._v("评分：")]),t._v(" "),t._l(5,function(e,i){return n("i",{key:"star"+i,staticClass:"iconfont icon-collection_fill",style:{color:i+1<=t.curStar?"#f9bd4f":"white"},on:{mouseover:function(e){return t.setCurStar(i+1)},mouseout:function(e){return t.setCurStar(0)},click:function(e){return t.confirmStar(i+1)}}})})],2),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{cols:"30",rows:"10",placeholder:"请输入评论内容"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.sendComment}},[t._v("发表")])])])],1)},jn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"orderTableHeader"},[n("span",[t._v("商品")]),t._v(" "),n("span",[t._v("单价")]),t._v(" "),n("span",[t._v("数量")]),t._v(" "),n("span",[t._v("实付款")]),t._v(" "),n("span",[t._v("交易操作")])])}],Dn={render:qn,staticRenderFns:jn},Kn=Dn,Xn=n("C7Lr"),Jn=F,Wn=Xn($n,Kn,!1,Jn,"data-v-bdea6332",null),Zn=Wn.exports,Qn={name:"MyData",components:{Popup:Vn.a},computed:K()({},Object(X.c)(["clientToken"])),data:function(){return{id:"",img:"",email:"",nickname:"",recipient:"",address:"",phone:"",popupShow:!1,oldPwd:"",newPwd:"",confirmPwd:""}},methods:K()({},Object(X.b)({setClientName:"SET_CLIENT_NAME"}),{updateUserData:function(){var t=this;g({id:this.id,nickname:this.nickname,recipient:this.recipient,address:this.address,phone:this.phone}).then(function(){alert("修改成功!"),t.setClientName(t.nickname)}).catch(function(t){alert(t)})},closePopup:function(){this.popupShow=!1},showPopup:function(){this.popupShow=!0},updatePwd:function(){var t=this;if(this.newPwd!==this.confirmPwd)return void alert("两次输入的密码不一致！");_({id:this.id,oldPwd:this.oldPwd,newPwd:this.newPwd,confirmPwd:this.confirmPwd}).then(function(){t.oldPwd="",t.newPwd="",t.confirmPwd="",t.closePopup(),alert("修改密码成功!")}).catch(function(t){alert(t)})}}),mounted:function(){var t=this;v(this.clientToken).then(function(e){t.id=e.id,t.img=e.img,t.email=e.email,t.nickname=e.nickname,t.recipient=e.recipient,t.address=e.address,t.phone=e.phone}).catch(function(t){alert(t)})}},zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MyData"},[n("ul",[n("li",[n("span",[t._v("用户头像")]),t._v(" "),n("img",{attrs:{src:t.img,alt:"img"}})]),t._v(" "),n("li",[n("span",[t._v("账号")]),t._v(" "),n("p",[t._v(t._s(t.email))])]),t._v(" "),n("li",[n("span",[t._v("昵称")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),t._v(" "),n("li",[n("span",[t._v("收件人")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.recipient,expression:"recipient"}],attrs:{type:"text"},domProps:{value:t.recipient},on:{input:function(e){e.target.composing||(t.recipient=e.target.value)}}})]),t._v(" "),n("li",[n("span",[t._v("收件地址")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"long",attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),t._v(" "),n("li",[n("span",[t._v("联系电话")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),n("li",[n("span",[t._v("密码")]),t._v(" "),n("button",{on:{click:t.showPopup}},[t._v("修改密码")])])]),t._v(" "),n("button",{staticClass:"saveBtn",on:{click:t.updateUserData}},[t._v("保存")]),t._v(" "),n("Popup",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],attrs:{title:"修改密码"},on:{popupClose:t.closePopup}},[n("div",{staticClass:"popupContent",attrs:{slot:"popupContent"},slot:"popupContent"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPwd,expression:"oldPwd"}],attrs:{type:"password",placeholder:"请输入原密码"},domProps:{value:t.oldPwd},on:{input:function(e){e.target.composing||(t.oldPwd=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPwd,expression:"newPwd"}],attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.newPwd},on:{input:function(e){e.target.composing||(t.newPwd=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPwd,expression:"confirmPwd"}],attrs:{type:"password",placeholder:"请再次输入新密码"},domProps:{value:t.confirmPwd},on:{input:function(e){e.target.composing||(t.confirmPwd=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.updatePwd}},[t._v("确认修改")])])])],1)},Yn=[],ti={render:zn,staticRenderFns:Yn},ei=ti,ni=n("C7Lr"),ii=H,si=ni(Qn,ei,!1,ii,"data-v-6fd3779e",null),ai=si.exports,oi={name:"Cart",components:{NumberInput:mn.a},computed:K()({},Object(X.c)(["clientToken"]),{totalAmount:function(){var t=0;return this.orderList.map(function(e,n){t+=e.amount}),t}}),data:function(){return{orderList:[]}},methods:{getOrderByState:function(t){var e=this;m(t,this.clientToken).then(function(t){e.orderList=t,e.orderList.map(function(t,e){t.temGoodsNum=t.goodNum})}).catch(function(t){alert(t)})},numberChange:function(t){this.orderList.map(function(e,n){t===e.id&&(e.amount=e.temGoodsNum*e.goods.unitPrice,console.log(e.temGoodsNum,e.goods.unitPrice))})},deleteOrder:function(t){var e=this;p(t).then(function(){alert("删除订单成功！"),e.orderList.map(function(n,i){n.id===t&&e.orderList.splice(i,1)})}).catch(function(t){alert(t)})},navTo:function(t){this.$router.push(t)},settleAccounts:function(){var t=this,e=[];this.orderList.map(function(t,n){e.push({id:t.id,goodNum:t.temGoodsNum,amount:t.amount})}),C({cartList:e}).then(function(){alert("下单成功！"),t.orderList=[]}).catch(function(t){alert(t)})}},mounted:function(){this.getOrderByState(0)}},ri=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Cart"},[t.orderList.length>0?n("div",[t._m(0),t._v(" "),n("ul",{staticClass:"orderList"},t._l(t.orderList,function(e,i){return n("li",{key:"order"+e.id},[n("div",{staticClass:"orderDetail"},[n("img",{attrs:{src:e.goods.img,alt:"商品图片"}}),t._v(" "),n("div",{staticClass:"goodsName"},[n("p",{on:{click:function(n){return t.navTo("/mall/goods/"+e.goods.id)}}},[t._v(t._s(e.goods.name))]),t._v(" "),n("span",[t._v(t._s(e.goods.spec))])]),t._v(" "),n("span",{staticClass:"unitPrice"},[t._v(t._s("￥"+e.goods.unitPrice))]),t._v(" "),n("span",{staticClass:"num"},[n("NumberInput",{attrs:{initNum:e.temGoodsNum,min:1,max:999},on:{changeHandle:function(n){return t.numberChange(e.id)}},model:{value:e.temGoodsNum,callback:function(n){t.$set(e,"temGoodsNum",n)},expression:"item.temGoodsNum"}})],1),t._v(" "),n("span",{staticClass:"amount"},[t._v(t._s("￥"+e.amount))]),t._v(" "),n("button",{on:{click:function(n){return t.deleteOrder(e.id)}}},[t._v("删除")])])])}),0),t._v(" "),n("div",{staticClass:"cartFooter"},[n("span",[t._v("应付金额：")]),t._v(" "),n("span",{staticClass:"total"},[t._v(t._s("￥"+t.totalAmount))]),t._v(" "),n("button",{on:{click:t.settleAccounts}},[t._v("下单")])])]):n("p",{staticClass:"emptyTips"},[t._v("购物车还是空滴~")])])},ci=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cartTableHeader"},[n("span",[t._v("商品信息")]),t._v(" "),n("span",[t._v("单价")]),t._v(" "),n("span",[t._v("数量")]),t._v(" "),n("span",[t._v("小计")]),t._v(" "),n("span",[t._v("交易操作")])])}],ui={render:ri,staticRenderFns:ci},li=ui,di=n("C7Lr"),mi=V,pi=di(oi,li,!1,mi,"data-v-79ea7448",null),hi=pi.exports,fi=n("Duuk");$.default.use(q.a);var vi=new q.a({routes:[{path:"/",redirect:"/mall"},{path:"/login",name:"MallLogin",component:dn},{path:"/mall",name:"Mall",component:ft,redirect:"/mall/show",children:[{path:"show",name:"MallShow",component:jt,redirect:"/mall/show/index",children:[{path:"index",name:"MallIndex",component:Ke},{path:"goodsList/:typeId/:keyword",name:"GoodsList",component:En}]},{path:"goods/:id",name:"GoodsDetail",component:xn},{path:"personal",name:"Personal",component:Hn,redirect:"/mall/personal/cart",children:[{path:"cart",name:"Cart",component:hi,meta:{requireLogin:!0}},{path:"myData",name:"MyData",component:ai,meta:{requireLogin:!0}},{path:"myOrder",name:"MyOrder",component:Zn,meta:{requireLogin:!0}}]}]},{path:"*",name:"ErrorPage",component:fi.a}],scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});vi.beforeEach(function(t,e,n){t.meta.requireLogin?j.a.state.clientToken?n():n({path:"/login",query:{redirect:t.fullPath}}):n()});e.a=vi},SyGe:function(t,e){},a5yo:function(t,e){},aYB7:function(t,e){},d3Zh:function(t,e){},"j+Ny":function(t,e){},kOgC:function(t,e){},kfLN:function(t,e,n){"use strict";function i(t){n("uZbC")}var s=n("yt7g"),a={name:"Popup",props:{title:{type:String,default:"提示信息"}},data:function(){return{show:!1,windowWidth:Object(s.b)().width,windowHeight:Object(s.b)().height}},methods:{closePopup:function(){this.$emit("popupClose")}}},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PopupWrapper",style:{width:t.windowWidth+"px",height:t.windowHeight+"px",lineHeight:t.windowHeight+"px"},on:{click:function(e){return e.stopPropagation(),t.closePopup(e)}}},[n("div",{staticClass:"Popup",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"popupHeader"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("span",{staticClass:"closeBtn",on:{click:t.closePopup}},[n("i",{staticClass:"iconfont icon-close"})])]),t._v(" "),n("div",{staticClass:"popupBody"},[t._t("popupContent")],2)])])},r=[],c={render:o,staticRenderFns:r},u=c,l=n("C7Lr"),d=i,m=l(a,u,!1,d,"data-v-a2e4504c",null);e.a=m.exports},lt1D:function(t,e){},"mm+r":function(t,e){},nAyt:function(t,e){},qdLy:function(t,e){},qwFN:function(t,e){},rJHU:function(t,e){},uPNt:function(t,e,n){"use strict";function i(t){n("qwFN")}var s={name:"Radio",props:["radioName","radioVal","initVal"],data:function(){return{selectedVal:""}},methods:{changeRadio:function(t){this.$emit("input",t)}},mounted:function(){""!==this.initVal&&this.radioVal===this.initVal&&this.$refs.radio.setAttribute("checked","checked")},watch:{initVal:function(t,e){""!==this.initVal&&this.radioVal===this.initVal&&this.$refs.radio.setAttribute("checked","checked")}}},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"Radio"},[n("input",{ref:"radio",attrs:{name:t.radioName,type:"radio"},domProps:{value:t.radioVal},on:{change:function(e){return t.changeRadio(t.radioVal)}}}),t._v(" "),n("span",{staticClass:"tipsBox"},[t._t("tips")],2)])},o=[],r={render:a,staticRenderFns:o},c=r,u=n("C7Lr"),l=i,d=u(s,c,!1,l,"data-v-6b2d3bcf",null);e.a=d.exports},uZbC:function(t,e){},"x/e8":function(t,e){},yt7g:function(t,e,n){"use strict";function i(){var t=document.documentElement.clientHeight||document.body.clientHeight;return{width:document.documentElement.clientWidth||document.body.clientWidth,height:t}}function s(){var t=void 0,e=void 0,n=document.createElement("DIV");return n.style.cssText="position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;",t=document.body.appendChild(n).clientWidth,n.style.overflowY="scroll",e=n.clientWidth,document.body.removeChild(n),t-e}function a(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(a),window.scrollTo(0,t-t/5))}function o(t){var e=void 0;try{e=localStorage.getItem(t)}catch(t){__DEV__&&console.error("localStorage.getItem报错, ",t.message)}finally{return e}}function r(t,e){try{localStorage.setItem(t,e)}catch(t){__DEV__&&console.error("localStorage.setItem报错, ",t.message)}}e.b=i,e.d=s,e.a=a,e.c=o,e.e=r},"zg+n":function(t,e){},zue8:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ac2841d47c33b98817c8.js.map